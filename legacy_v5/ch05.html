<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" class="no-js"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script><title>Chapter 5. Configuring an XML Resolver</title><link href="/legacy_v5/css/pygments.css" rel="stylesheet"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link href="https://purl.org/dc/elements/1.1/" rel="schema.dc"/><meta name="dc.modified" content="2024-01-28T13:44:10Z"/><meta name="generator" content="DocBook xslTNG version 2.1.2 / c75a917 / SAXON HE 11.5"/><link href="/legacy_v5/css/docbook-toc.css" rel="stylesheet"/><link href="/legacy_v5/css/docbook.css" rel="stylesheet" media="screen"/><link xmlns="" rel="icon" href="img/xr.png"/><link xmlns="" rel="stylesheet" href="css/resolver.css"/><link rel="prev" href="ch04.html"/><link rel="next" href="ch06.html"/><link rel="up" href="index.html"/><link rel="home" href="index.html"/><script src="/legacy_v5/js/persistent-toc.js" defer="defer"></script><script src="/legacy_v5/js/copy-verbatim.js" defer="defer"></script><script src="/legacy_v5/js/chunk-nav.js" defer="defer"></script></head><body><nav class="top"><div><a href="index.html">Home</a> <a href="index.html">Up</a> <a href="ch06.html">Next</a> <a href="ch04.html">Previous</a></div></nav><main><section id="configuring" db-chunk="ch05.html" db-id="d96e286" class="chapter component"><header><h2>Chapter <span class="label">5</span><span class="sep">. </span>Configuring an XML Resolver</h2></header><p>The XML Resolver is available for both Java and .NET. By and
large, it works the same way in both environments and has similar
features. One area where differences are unavoidable is in
configuration because Java and .NET expose different mechanisms.</p><p>The Java XML Resolver classes use either Java system properties
or a standard Java properties file to establish an initial
environment.</p><p>On .NET, environment variables are used instead of system
properties and the properties file is a standard .NET configuration
file.</p><section id="config-java" class="section"><header><h2><span class="label">1</span><span class="sep">. </span>Configuring XML Resolver on Java</h2></header><p>On Java, the resolver searches for a property file by looking in
the following places, in this order:</p><ul class="itemizedlist"><li><p>The location identified by the <code class="property system">xmlresolver.properties</code><span class="indexterm" id="config-java_itemizedlist1_listitem1_para1_indexterm1"></span> system property.
</p></li><li><p>The location identified by the <code class="envar">XMLRESOLVER_PROPERTIES</code><span class="indexterm" id="config-java_itemizedlist1_listitem2_para1_indexterm1"></span> environment variable.
</p></li><li><p>A file named <code class="filename">xmlresolver.properties</code> on your classpath.
</p></li></ul><section id="xmlresolver.properties" class="section"><header><h3><span class="label">1<span class="sep">.</span>1</span><span class="sep">. </span>Example xmlresolver.properties file</h3></header><p>An <code class="filename">xmlresolver.properties</code> file
might look like this:</p><div class="pre-wrap" db-startinglinenumber="1" db-numberoflines="11"><pre class="language-none long numbered programlisting verbatim verblines"><span class="line" db-line="1"><span class="ln"> 1 <span class="nsep">|</span></span><span class="ld"><code># xmlresolver.properties</code></span></span>
<span class="line" db-line="2"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code> </code></span></span>
<span class="line" db-line="3"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>relative-catalogs=yes</code></span></span>
<span class="line" db-line="4"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code> </code></span></span>
<span class="line" db-line="5"><span class="ln"> 5 <span class="nsep">|</span></span><span class="ld"><code># Always use semicolons in this list</code></span></span>
<span class="line" db-line="6"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>catalogs=./catalog.xml;/Users/ndw/Documents/catalog.xml</code></span></span>
<span class="line" db-line="7"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code> </code></span></span>
<span class="line" db-line="8"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>prefer=public</code></span></span>
<span class="line" db-line="9"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>cache=/Users/ndw/Library/Caches/xmlresolver.org/cache</code></span></span>
<span class="line" db-line="10"><span class="ln">10 <span class="nsep">|</span></span><span class="ld"><code>allow-oasis-xml-catalog-pi=no</code></span></span>
<span class="line" db-line="11"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>prefer-property-file=false</code></span></span>
</pre></div></section></section><section id="config-net" class="section"><header><h2><span class="label">2</span><span class="sep">. </span>Configuring XML Resolver on .NET</h2></header><p>On .NET, the resolver uses the enviornment variable <code class="envar">XMLRESOLVER_APPSETTINGS</code><span class="indexterm" id="config-net_para1_indexterm1"></span>
to locate .NET properties file. The properties file can be either XML (in an
<code>XmlResolver</code> section) or JSON (in an <code>XmlResolver</code> object).</p><section id="xmlresolver.config.xml" class="section"><header><h3><span class="label">2<span class="sep">.</span>1</span><span class="sep">. </span>Example xmlresolver.config file</h3></header><p>An <code class="filename">xmlresolver.config</code> file
might look like this:</p><div class="pre-wrap highlight" db-startinglinenumber="1" db-numberoflines="9"><pre class="language-xml long numbered programlisting verbatim verblines"><span class="line" db-line="1"><span class="ln">1 <span class="nsep">|</span></span><span class="ld"><code><span class="nt">&lt;configuration&gt;</span></code></span></span>
<span class="line" db-line="2"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code><span class="w">  </span><span class="nt">&lt;xmlResolver</span><span class="w"> </span><span class="na">relativeCatalogs=</span><span class="s">"no"</span></code></span></span>
<span class="line" db-line="3"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code><span class="w">               </span><span class="na">catalogs=</span><span class="s">"./catalog.xml;/Users/userid/Documents/catalog.xml"</span></code></span></span>
<span class="line" db-line="4"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code><span class="w">               </span><span class="na">prefer=</span><span class="s">"public"</span></code></span></span>
<span class="line" db-line="5"><span class="ln">5 <span class="nsep">|</span></span><span class="ld"><code><span class="w">               </span><span class="na">allowOasisXmlCatalogPi=</span><span class="s">"yes"</span></code></span></span>
<span class="line" db-line="6"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code><span class="w">               </span><span class="na">cache=</span><span class="s">"/Users/userid/Library/Caches/xmlresolver.org/cache"</span></code></span></span>
<span class="line" db-line="7"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code><span class="w">               </span><span class="na">cacheUnderHome=</span><span class="s">"false"</span></code></span></span>
<span class="line" db-line="8"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code><span class="w">               </span><span class="na">preferPropertyFile=</span><span class="s">"no"</span><span class="nt">/&gt;</span></code></span></span>
<span class="line" db-line="9"><span class="ln">  <span class="nsep">|</span></span><span class="ld"><code><span class="nt">&lt;/configuration&gt;</span></code></span></span>
</pre></div><p>If JSON is more convenient, 
it might look like this:</p><div class="pre-wrap highlight" db-startinglinenumber="1" db-numberoflines="12"><pre class="language-json long numbered programlisting verbatim verblines"><span class="line" db-line="1"><span class="ln"> 1 <span class="nsep">|</span></span><span class="ld"><code><span class="p">{</span></code></span></span>
<span class="line" db-line="2"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code><span class="w">  </span><span class="nt">"XmlResolver"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span></code></span></span>
<span class="line" db-line="3"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code><span class="w">    </span><span class="nt">"preferPublic"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span></code></span></span>
<span class="line" db-line="4"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code><span class="w">    </span><span class="nt">"relativeCatalogs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="5"><span class="ln"> 5 <span class="nsep">|</span></span><span class="ld"><code><span class="w">    </span><span class="nt">"catalogs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./catalog.xml;/Users/userid/Documents/catalog.xml"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="6"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code><span class="w">    </span><span class="nt">"prefer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="7"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code><span class="w">    </span><span class="nt">"allowOasisXmlCatalogPi"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yes"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="8"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code><span class="w">    </span><span class="nt">"cache"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Users/userid/Library/Caches/xmlresolver.org/cache"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="9"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code><span class="w">    </span><span class="nt">"cacheUnderHome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="10"><span class="ln">10 <span class="nsep">|</span></span><span class="ld"><code><span class="w">    </span><span class="nt">"preferPropertyFile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no"</span></code></span></span>
<span class="line" db-line="11"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code><span class="w">  </span><span class="p">}</span></code></span></span>
<span class="line" db-line="12"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code><span class="p">}</span></code></span></span>
</pre></div></section></section></section></main><nav class="bottom"><table><tr><td class="previous"><a href="ch04.html">Previous</a></td><td class="up"><a href="index.html">Up</a></td><td class="next"><a href="ch06.html">Next</a></td></tr><tr><td class="previous">Chapter <span class="label">4</span><span class="sep">. </span>Using an XML Resolver</td><td class="up"><a href="index.html">Home</a></td><td class="next">Chapter <span class="label">6</span><span class="sep">. </span>What you can configure</td></tr></table><nav class="tocopen"></nav><nav class="toc"></nav><!-- Hide ToC details from user agents that don’t support JS --><script type="text/html" class="tocopen"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABDklEQVQ4je2UUW3EMAyGv0wDUAhlkDBIyuAYXCEclEJoGZRBUgYOgzJoGHgPW6o7rWq35+2TIkWW9duW7N+oKuM46jiOGGMAaNsW5xzee5xzn8EvRESXZUFEWNcVAFWl73v6vjcGUIAYIyEEANZ1RUSY55lSCo/HA4BhGGiahtvthnOOtm0BSCnRdd1eVAGNMeoR27aptVattbpt22FOjFGrzjsX1I7q/4q3y4xf8i/4FwT3Pcw5Y4zBWvujfQMopZBzJuf8XbCeVyWEgHOO+/2+x0SEaZpIKSEih0X2Wz6jdlxKuezaqL7qpZS0lLKbw/M4ANba3RyapiGE8OJGqOrpizGq916999VATvM/AGFn1sxsVjL5AAAAAElFTkSuQmCC" alt="[toc]"/></script><script type="text/html" class="toc"><header><span>Table of Contents</span><span class="close"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAtklEQVQ4jaWT0Q3DIAxEz52AEbyB2cDZhBEY3SNcPyqqBEwqpZaQAHNP5jBCEiJCPAiSIgAeiUe8zoveO9x9e9jd0XtfKwHA1hpHtNY49rO8u59zn4mqMiJSyFkcEVTVFQCAtdYFMotrrXN111JnyA/xCsggN2JeXmGEmaGU8l2XUmBm29fZuh0RW2PTK2SGZcamADPb3nmGmNkKOI7j1rAzJG2kcWhqkstQ1QX+/2ciKU/FJOUN6JFZYWpmK3sAAAAASUVORK5CYII=" alt="X"/></span><p class="ptoc-search"><input class="ptoc-search" placeholder="Search" style="width: 80%"/></p></header><div db-persistent-toc="persistent-toc.html" db-prefix="">Loading…</div></script></nav></body></html>