<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" class="no-js"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script><title>Configuring an XML Resolver</title><link href="/css/pygments.css" rel="stylesheet"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link href="https://purl.org/dc/elements/1.1/" rel="schema.dc"/><meta name="dc.modified" content="2022-06-28T11:24:52Z"/><meta name="generator" content="DocBook xslTNG version 1.5.2 / ecd74dd / SAXON HE 10.5"/><link href="/css/docbook.css" rel="stylesheet"/><link href="/css/docbook-screen.css" rel="stylesheet"/><link href="/css/resolver.css" rel="stylesheet"/><link href="/css/docbook-toc.css" rel="stylesheet"/><link xmlns="" rel="icon" href="/img/xr.png"/><link rel="prev" href="ch04.html"/><link rel="next" href="ch06.html"/><link rel="up" href="index.html"/><link rel="home" href="index.html"/></head><body><nav class="top"><div><a href="index.html">Home</a> <a href="index.html">Up</a> <a href="ch06.html">Next</a> <a href="ch04.html">Previous</a></div></nav><main><div id="configuring" class="chapter"><header><h2>Configuring an XML Resolver</h2></header><p>The XML Resolver is available for both Java and .NET. By and
large, it works the same way in both environments and has similar
features. One area where differences are unavoidable is in
configuration because Java and .NET expose different mechanisms.</p><p>The Java XML Resolver classes use either Java system properties
or a standard Java properties file to establish an initial
environment.</p><p>On .NET, environment variables are used instead of system
properties and the properties file is a standard .NET configuration
file.</p><section id="config-java" class="section"><header><h2>Configuring XML Resolver on Java</h2></header><p>On Java, the resolver searches for a property file by looking in
the following places, in this order:</p><ul class="itemizedlist"><li><p>The location identified by the <code class="property system">xmlresolver.properties</code><span class="indexterm" id="config-java_itemizedlist1_listitem1_para1_indexterm1"></span> system property.
</p></li><li><p>The location identified by the <code class="envar">XMLRESOLVER_PROPERTIES</code><span class="indexterm" id="config-java_itemizedlist1_listitem2_para1_indexterm1"></span> environment variable.
</p></li><li><p>A file named <code class="filename">xmlresolver.properties</code> on your classpath.
</p></li></ul><section id="xmlresolver.properties" class="section"><header><h3>Example xmlresolver.properties file</h3></header><p>An <code class="filename">xmlresolver.properties</code> file
might look like this:</p><div class="pre-wrap" db-startinglinenumber="1" db-numberoflines="11"><pre class="language-none long numbered programlisting verbatim verblines"><span class="line" db-line="1"><span class="ln">1</span><span class="ld"><code># xmlresolver.properties</code></span></span>
<span class="line" db-line="2"><span class="ln"></span><span class="ld"><code> </code></span></span>
<span class="line" db-line="3"><span class="ln"></span><span class="ld"><code>relative-catalogs=yes</code></span></span>
<span class="line" db-line="4"><span class="ln"></span><span class="ld"><code> </code></span></span>
<span class="line" db-line="5"><span class="ln">5</span><span class="ld"><code># Always use semicolons in this list</code></span></span>
<span class="line" db-line="6"><span class="ln"></span><span class="ld"><code>catalogs=./catalog.xml;/Users/ndw/Documents/catalog.xml</code></span></span>
<span class="line" db-line="7"><span class="ln"></span><span class="ld"><code> </code></span></span>
<span class="line" db-line="8"><span class="ln"></span><span class="ld"><code>prefer=public</code></span></span>
<span class="line" db-line="9"><span class="ln"></span><span class="ld"><code>cache=/Users/ndw/Library/Caches/xmlresolver.org/cache</code></span></span>
<span class="line" db-line="10"><span class="ln">10</span><span class="ld"><code>allow-oasis-xml-catalog-pi=no</code></span></span>
<span class="line" db-line="11"><span class="ln"></span><span class="ld"><code>prefer-property-file=false</code></span></span>
</pre></div></section></section><section id="config-net" class="section"><header><h2>Configuring XML Resolver on .NET</h2></header><p>On .NET, the resolver uses the enviornment variable <code class="envar">XMLRESOLVER_APPSETTINGS</code><span class="indexterm" id="config-net_para1_indexterm1"></span>
to locate .NET properties file. The properties file can be either XML (in an
<code>XmlResolver</code> section) or JSON (in an <code>XmlResolver</code> object).</p><section id="xmlresolver.config.xml" class="section"><header><h3>Example xmlresolver.config file</h3></header><p>An <code class="filename">xmlresolver.config</code> file
might look like this:</p><div class="pre-wrap highlight" db-startinglinenumber="1" db-numberoflines="9"><pre class="language-xml long numbered programlisting verbatim verblines"><span class="line" db-line="1"><span class="ln">1</span><span class="ld"><code><span class="nt">&lt;configuration&gt;</span></code></span></span>
<span class="line" db-line="2"><span class="ln"></span><span class="ld"><code>  <span class="nt">&lt;xmlResolver</span> <span class="na">relativeCatalogs=</span><span class="s">"no"</span></code></span></span>
<span class="line" db-line="3"><span class="ln"></span><span class="ld"><code>               <span class="na">catalogs=</span><span class="s">"./catalog.xml;/Users/userid/Documents/catalog.xml"</span></code></span></span>
<span class="line" db-line="4"><span class="ln"></span><span class="ld"><code>               <span class="na">prefer=</span><span class="s">"public"</span></code></span></span>
<span class="line" db-line="5"><span class="ln">5</span><span class="ld"><code>               <span class="na">allowOasisXmlCatalogPi=</span><span class="s">"yes"</span></code></span></span>
<span class="line" db-line="6"><span class="ln"></span><span class="ld"><code>               <span class="na">cache=</span><span class="s">"/Users/userid/Library/Caches/xmlresolver.org/cache"</span></code></span></span>
<span class="line" db-line="7"><span class="ln"></span><span class="ld"><code>               <span class="na">cacheUnderHome=</span><span class="s">"false"</span></code></span></span>
<span class="line" db-line="8"><span class="ln"></span><span class="ld"><code>               <span class="na">preferPropertyFile=</span><span class="s">"no"</span><span class="nt">/&gt;</span></code></span></span>
<span class="line" db-line="9"><span class="ln"></span><span class="ld"><code><span class="nt">&lt;/configuration&gt;</span></code></span></span>
</pre></div><p>If JSON is more convenient, 
it might look like this:</p><div class="pre-wrap highlight" db-startinglinenumber="1" db-numberoflines="12"><pre class="language-json long numbered programlisting verbatim verblines"><span class="line" db-line="1"><span class="ln">1</span><span class="ld"><code><span class="p">{</span></code></span></span>
<span class="line" db-line="2"><span class="ln"></span><span class="ld"><code>  <span class="nt">"XmlResolver"</span><span class="p">:</span> <span class="p">{</span></code></span></span>
<span class="line" db-line="3"><span class="ln"></span><span class="ld"><code>    <span class="nt">"preferPublic"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span></code></span></span>
<span class="line" db-line="4"><span class="ln"></span><span class="ld"><code>    <span class="nt">"relativeCatalogs"</span><span class="p">:</span> <span class="s2">"false"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="5"><span class="ln">5</span><span class="ld"><code>    <span class="nt">"catalogs"</span><span class="p">:</span> <span class="s2">"./catalog.xml;/Users/userid/Documents/catalog.xml"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="6"><span class="ln"></span><span class="ld"><code>    <span class="nt">"prefer"</span><span class="p">:</span> <span class="s2">"public"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="7"><span class="ln"></span><span class="ld"><code>    <span class="nt">"allowOasisXmlCatalogPi"</span><span class="p">:</span> <span class="s2">"yes"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="8"><span class="ln"></span><span class="ld"><code>    <span class="nt">"cache"</span><span class="p">:</span> <span class="s2">"/Users/userid/Library/Caches/xmlresolver.org/cache"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="9"><span class="ln"></span><span class="ld"><code>    <span class="nt">"cacheUnderHome"</span><span class="p">:</span> <span class="s2">"false"</span><span class="p">,</span></code></span></span>
<span class="line" db-line="10"><span class="ln">10</span><span class="ld"><code>    <span class="nt">"preferPropertyFile"</span><span class="p">:</span> <span class="s2">"no"</span></code></span></span>
<span class="line" db-line="11"><span class="ln"></span><span class="ld"><code>  <span class="p">}</span></code></span></span>
<span class="line" db-line="12"><span class="ln"></span><span class="ld"><code><span class="p">}</span></code></span></span>
</pre></div></section></section></div></main><nav class="bottom"><table width="100%"><tr><td class="previous"><a href="ch04.html">Previous</a></td><td class="up"><a href="index.html">Up</a></td><td class="next"><a href="ch06.html">Next</a></td></tr><tr><td class="previous">Using an XML Resolver</td><td class="up"><a href="index.html">Home</a></td><td class="next">What you can configure</td></tr></table><nav class="tocopen"></nav><nav class="toc"></nav><!-- Hide ToC details from user agents that don’t support JS --><script type="text/html" class="tocopen"><span>[toc]</span></script><script type="text/html" class="toc"><header><span>Table of Contents</span><span class="close"><span>╳</span></span><p class="ptoc-search"><input class="ptoc-search" placeholder="Search" style="width: 80%"/></p></header><div><ul class="toc"><li><a href="ch01.html">What is a resolver?</a></li><li><a href="ch02.html">Why use a resolver?</a></li><li><a href="ch03.html">Getting an XML Resolver</a></li><li><a href="ch04.html">Using an XML Resolver</a><ul class="toc"><li><a href="ch04.html#programming">Programming with the resolver</a></li></ul></li><li><a href="ch05.html">Configuring an XML Resolver</a><ul class="toc"><li><a href="ch05.html#config-java">Configuring XML Resolver on Java</a><ul class="toc"><li><a href="ch05.html#xmlresolver.properties">Example xmlresolver.properties file</a></li></ul></li><li><a href="ch05.html#config-net">Configuring XML Resolver on .NET</a><ul class="toc"><li><a href="ch05.html#xmlresolver.config.xml">Example xmlresolver.config file</a></li></ul></li></ul></li><li><a href="ch06.html">What you can configure</a><ul class="toc"><li><a href="ch06.html#xml.catalog.files">The initial list of catalog files</a></li><li><a href="ch06.html#xml.catalog.additions">A list of additional catalog files</a></li><li><a href="ch06.html#xml.assembly.catalogs">Catalogs to load from assemblies</a></li><li><a href="ch06.html#xml.data.assembly">Load the XmlResolverData assembly catalog?</a></li><li><a href="ch06.html#xml.catalog.classpathCatalogs">Load catalogs from the classpath</a></li><li><a href="ch06.html#xml.catalog.prefer">Preference for public or system identifiers</a></li><li><a href="ch06.html#xml.catalog.allowPI">Obey <code class="tag tag-pi">oasis-xml-catalog</code> processing instruction</a></li><li><a href="ch06.html#relative-catalogs">Support relative catalog paths</a></li><li><a href="ch06.html#xml.catalog.fixWindowsSystemIdentifiers">Fix system identifiers on Windows.</a></li><li><a href="ch06.html#xml.catalog.cache">Cache documents</a></li><li><a href="ch06.html#xml.catalog.preferPropertyFile">Prefer property file values</a></li><li><a href="ch06.html#xml.catalog.uriForSystem">Use URI entries for system resolution</a></li><li><a href="ch06.html#xml.catalog.mergeHttps">Merge http: and https: URI schemes</a></li><li><a href="ch06.html#xml.catalog.maskJarUris">Mask jar URIs</a></li><li><a href="ch06.html#xml.catalog.catalogLoaderClass">Catalog loader class</a></li><li><a href="ch06.html#xml.catalog.parseRddl">Parse RDDL documents</a></li><li><a href="ch06.html#classloader">Specify an alternate class loader</a></li><li><a href="ch06.html#xml.catalog.archivedCatalogs">Support catalog files in ZIP archives</a></li><li><a href="ch06.html#catalogmanager">Access the underlying catalog manager</a></li><li><a href="ch06.html#logging">Logging</a><ul class="toc"><li><a href="ch06.html#xml.catalog.resolverLoggerClass">The logger class</a></li><li><a href="ch06.html#xml.catalog.defaultLoggerLogLevel">The logging level</a></li></ul></li></ul></li><li><a href="ch07.html">See also</a></li><li><a href="idx01.html">System properties index</a></li><li><a href="idx02.html">File properties index</a></li><li><a href="idx03.html">Environment variables index</a></li><li><a href="idx04.html">Constants index</a></li><li><a href="idx05.html">API index</a></li></ul></div></script></nav><script src="/js/persistent-toc.js"></script><script src="/js/chunk-nav.js"></script></body></html>